(() => { "use strict"; let e = [], l = ["C", "D", "H", "S"], t = ["A", "J", "Q", "K"], r = [], a = document.querySelector("#btn-pedir"), d = document.querySelector("#btn-detener"), n = document.querySelector("#btn-nuevo"), s = document.querySelectorAll(".div-cartas"), i = document.querySelectorAll("small"), o = (l = 2) => { e = c(), r = []; for (let t = 0; t < l; t++)r.push(0); i.forEach(e => e.innerText = 0), s.forEach(e => e.innerHTML = ""), a.disabled = !1, d.disabled = !1 }, c = () => { e = []; for (let r = 2; r <= 10; r++)for (let a of l) e.push(`${r}${a}`); for (let d of l) for (let n of t) e.push(`${n}${d}`); return _.shuffle(e) }, $ = () => { if (0 === e.length) throw "No hay cartas en el deck"; return e.pop() }, u = e => { let l = e.substring(0, e.length - 1); return isNaN(l) ? "A" === l ? 11 : 10 : 1 * l }, f = (e, l) => (r[l] = r[l] + u(e), i[l].innerText = r[l], r[l]), g = (e, l) => { let t = document.createElement("img"); t.src = `assets/img/${e}.png`, t.classList.add("carta"), s[l].append(t) }, h = () => { let [e, l] = r; setTimeout(() => { e === l ? alert("Empate") : e > 21 ? alert("El ganador es la m\xe1quina") : l > 21 ? alert("El ganador es el jugador") : alert("El ganador es la m\xe1quina") }, 100) }, b = e => { let l = 0; do { let t = $(); l = f(t, r.length - 1), g(t, r.length - 1) } while (l < e && e <= 21); h() }; a.addEventListener("click", () => { let e = $(), l = f(e, 0); g(e, 0), l > 21 ? (console.warn("Has perdido"), a.disabled = !0, d.disabled = !0, b(l)) : 21 === l && (console.warn("Has ganado"), a.disabled = !0, d.disabled = !0, b(l)) }), d.addEventListener("click", () => { a.disabled = !0, d.disabled = !0, b(r[0]) }), n.addEventListener("click", () => { o() }) })();